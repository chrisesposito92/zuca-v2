---
title: "Tax component field mapping for Vertex advantage tax"
url: "https://docs.zuora.com/en/zuora-billing/set-up-zuora-billing/apply-taxes/additional-resources-on-taxes/flexible-tax-mapping/tax-component-field-mapping-for-vertex-advantage-tax"
product: "zuora-billing"
scraped_at: "2026-02-20T17:29:54.372Z"
---

# Tax component field mapping for Vertex advantage tax

The document provides an overview of the tax component field mapping for the Vertex advantage tax, highlighting its early adopter phase, tax calculation response, and billing response transformation.

Note:

The consolidated tax components for the Vertex advantage tax app feature is in the Early Adopter phase. We are actively soliciting feedback from a small set of early adopters before releasing it as generally available. If you want to join this early adopter program, submit a request at Zuora Global Support.

## Tax calculation call

In a typical tax calculation response from Vertex advantage tax, the tax\_component field appears as follows:

"transaction\_lines": \[ { "description": "Live - Monthly", "amount": 39.0, "unit\_price": 39.0, "custom\_fields": \[ { "key": "invoiceItemId", "value": "8a28b56b8e554f76018e55f3cbaa3030" }, { "key": "taxCode", "value": "VAT/GST" }, { "key": "taxMode", "value": "0" }, { "key": "dbId", "value": "50715533" }, { "key": "chargeId", "value": "8a28828d68a2803f0168ab2e14ae1d2d" }, { "key": "documentId", "value": "8a28b56b8e554f76018e55f3cb8c302c" }, { "key": "documentNumber", "value": "INV01827680" }, { "key": "discountAmount", "value": "0" } \], "tax\_amount": 2.57, "tax\_deducted": false, "tax\_region": "US", "cached\_rate": false, "tax\_rate": 6.5897435898, "additional\_currencies": { "tax": { "amount": 39.0, "tax\_amount": 2.57, "total\_amount": 41.57 } }, "tax\_country\_code": "US", "line\_key": "YIOeJbRhNhOhm1FU", "custom\_id": "8a28b56b8e554f76018e55f3cbaa3030", "tax\_name": "Texas Tax", "tax\_rate\_checks": \[ "CA-GST-enabled", "CA-BC-PST-enabled", "CA-SK-PST-enabled", "CA-QC-QST-enabled" \], "product\_tax\_code": "310104", "line\_num": 1, "quantity": 1, "total\_amount": 41.57, "tax\_components": \[ { "revenue": 39.0, "tax\_amount": 1.95, "city": "PLANO", "tax\_rate": 6.25, "county": "COLLIN", "tax\_authority\_name": "TEXAS", "tax\_authority\_id": "35763", "tax\_name": "Sales and Use Tax", "revenue\_base": 31.2, "calculated\_tax\_rate\_used": true, "percent\_taxable": 0.8, "jurisdiction\_code": "35763", "calculated\_tax\_rate": 5, "state\_code": "TX" }, { "revenue": 39.0, "tax\_amount": 0.31, "city": "PLANO", "tax\_rate": 1, "county": "COLLIN", "tax\_authority\_name": "PLANO", "tax\_authority\_id": "77891", "tax\_name": "Local Sales and Use Tax", "revenue\_base": 31.2, "calculated\_tax\_rate\_used": true, "percent\_taxable": 0.8, "jurisdiction\_code": "77891", "calculated\_tax\_rate": 0.7948717949, "state\_code": "TX" }, { "revenue": 39.0, "tax\_amount": 0.31, "city": "PLANO", "tax\_rate": 1, "county": "COLLIN", "tax\_authority\_name": "DALLAS METROPOLITAN TRANSIT AUTHORITY", "tax\_authority\_id": "78120", "tax\_name": "Local Sales and Use Tax", "revenue\_base": 31.2, "calculated\_tax\_rate\_used": true, "percent\_taxable": 0.8, "jurisdiction\_code": "78120", "calculated\_tax\_rate": 0.7948717949, "state\_code": "TX" } \], "tax\_entity\_name": "US", "tax\_supported": true } \]

Note:

The feature specifically addresses the transaction\_lines field, which is where the system extracts tax-related information. By focusing on this specific group, we simplify the process of parsing for faster tax calculations and billing responses, guaranteeing top-notch performance and precision.

## Billing Response Transformation

Within the TaxApp, the response undergoes transformation where the tax\_component is flattened for easier access:

"transaction\_lines": \[ { "description": "Live - Monthly", "amount": 39.0, "unit\_price": 39.0, "custom\_fields": \[ { "key": "invoiceItemId", "value": "8a28b56b8e554f76018e55f3cbaa3030" }, { "key": "taxCode", "value": "VAT/GST" }, { "key": "taxMode", "value": "0" }, { "key": "dbId", "value": "50715533" }, { "key": "chargeId", "value": "8a28828d68a2803f0168ab2e14ae1d2d" }, { "key": "documentId", "value": "8a28b56b8e554f76018e55f3cb8c302c" }, { "key": "documentNumber", "value": "INV01827680" }, { "key": "discountAmount", "value": "0" } \], "tax\_deducted": false, "tax\_region": "US", "cached\_rate": false, "additional\_currencies": { "tax": { "amount": 39.0, "tax\_amount": 2.57, "total\_amount": 41.57 } }, "tax\_country\_code": "US", "line\_key": "YIOeJbRhNhOhm1FU", "custom\_id": "8a28b56b8e554f76018e55f3cbaa3030", "tax\_name": "Sales and Use Tax", "tax\_rate\_checks": \[ "CA-GST-enabled", "CA-BC-PST-enabled", "CA-SK-PST-enabled", "CA-QC-QST-enabled" \], "product\_tax\_code": "310104", "line\_num": 1, "quantity": 1, "total\_amount": 41.57, "revenue": 39.0, "tax\_amount": 1.95, "city": "PLANO", "tax\_rate": 6.25, "county": "COLLIN", "tax\_authority\_name": "TEXAS", "tax\_authority\_id": "35763", "revenue\_base": 31.2, "calculated\_tax\_rate\_used": true, "percent\_taxable": 0.8, "jurisdiction\_code": "35763", "calculated\_tax\_rate": 5, "state\_code": "TX", "tax\_entity\_name": "US", "tax\_supported": true }, { "description": "Live - Monthly", "amount": 39.0, "unit\_price": 39.0, "custom\_fields": \[ { "key": "invoiceItemId", "value": "8a28b56b8e554f76018e55f3cbaa3030" }, { "key": "taxCode", "value": "VAT/GST" }, { "key": "taxMode", "value": "0" }, { "key": "dbId", "value": "50715533" }, { "key": "chargeId", "value": "8a28828d68a2803f0168ab2e14ae1d2d" }, { "key": "documentId", "value": "8a28b56b8e554f76018e55f3cb8c302c" }, { "key": "documentNumber", "value": "INV01827680" }, { "key": "discountAmount", "value": "0" } \], "tax\_deducted": false, "tax\_region": "US", "cached\_rate": false, "additional\_currencies": { "tax": { "amount": 39.0, "tax\_amount": 2.57, "total\_amount": 41.57 } }, "tax\_country\_code": "US", "line\_key": "YIOeJbRhNhOhm1FU", "custom\_id": "8a28b56b8e554f76018e55f3cbaa3030", "tax\_name": "Local Sales and Use Tax", "tax\_rate\_checks": \[ "CA-GST-enabled", "CA-BC-PST-enabled", "CA-SK-PST-enabled", "CA-QC-QST-enabled" \], "product\_tax\_code": "310104", "line\_num": 1, "quantity": 1, "total\_amount": 41.57, "revenue": 39.0, "tax\_amount": 0.31, "city": "PLANO", "tax\_rate": 1, "county": "COLLIN", "tax\_authority\_name": "PLANO", "tax\_authority\_id": "77891", "revenue\_base": 31.2, "calculated\_tax\_rate\_used": true, "percent\_taxable": 0.8, "jurisdiction\_code": "77891", "calculated\_tax\_rate": 0.7948717949, "state\_code": "TX", "tax\_entity\_name": "US", "tax\_supported": true }, { "description": "Live - Monthly", "amount": 39.0, "unit\_price": 39.0, "custom\_fields": \[ { "key": "invoiceItemId", "value": "8a28b56b8e554f76018e55f3cbaa3030" }, { "key": "taxCode", "value": "VAT/GST" }, { "key": "taxMode", "value": "0" }, { "key": "dbId", "value": "50715533" }, { "key": "chargeId", "value": "8a28828d68a2803f0168ab2e14ae1d2d" }, { "key": "documentId", "value": "8a28b56b8e554f76018e55f3cb8c302c" }, { "key": "documentNumber", "value": "INV01827680" }, { "key": "discountAmount", "value": "0" } \], "tax\_deducted": false, "tax\_region": "US", "cached\_rate": false, "additional\_currencies": { "tax": { "amount": 39.0, "tax\_amount": 2.57, "total\_amount": 41.57 } }, "tax\_country\_code": "US", "line\_key": "YIOeJbRhNhOhm1FU", "custom\_id": "8a28b56b8e554f76018e55f3cbaa3030", "tax\_name": "Sales and Use Tax", "tax\_rate\_checks": \[ "CA-GST-enabled", "CA-BC-PST-enabled", "CA-SK-PST-enabled", "CA-QC-QST-enabled" \], "product\_tax\_code": "310104", "line\_num": 1, "quantity": 1, "total\_amount": 41.57, "revenue": 39.0, "tax\_amount": 1.95, "city": "PLANO", "tax\_rate": 6.25, "county": "COLLIN", "tax\_authority\_name": "TEXAS", "tax\_authority\_id": "35763", "revenue\_base": 31.2, "calculated\_tax\_rate\_used": true, "percent\_taxable": 0.8, "jurisdiction\_code": "35763", "calculated\_tax\_rate": 5, "state\_code": "TX", "tax\_entity\_name": "US", "tax\_supported": true } \]

Note:

Due to the flattening of tax\_components within the transaction fields, accessing them for flexible field mapping becomes straightforward. Direct access eliminates the need for nested structures, simplifying data retrieval and enhancing the efficiency of our system's field mapping process.

Below is a screenshot demonstrating the ease of accessing these fields:

![Field Mappings](https://zuora.deploy.heretto.com/v4/deployments/QPAZk6lsgXwvotedNERE/object/41370112-3e8d-45b8-ac01-50cddf9e5611?jwt=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJodHRwczovL2pvcnNlay5jb20vZXpkX29yZ2FuaXphdGlvbiI6Inp1b3JhIiwiaHR0cHM6Ly9qb3JzZWsuY29tL2V6ZC9vYmplY3RfdXVpZCI6IjQxMzcwMTEyLTNlOGQtNDViOC1hYzAxLTUwY2RkZjllNTYxMSIsImV4cCI6MTc3MTY5NDk4NiwianRpIjoiMGEyMGMyNWFhY2Y0NDBhZTk4YzIwOTM0YjVmZTE0NjQiLCJodHRwczovL2pvcnNlay5jb20vZXpkX2ZpbGVzZXQiOiJPbkFzQUJUb1lNdVNnalRaVHpuUCJ9.Jy1IoBuBa_XEpPAQPAN3V_5x-5GcqltdtohWSkTJsow)

## Refund call (credit memo) response

In the refund response, the structure of the tax components is flattened to facilitate parsing within the TaxApp. Below is an example of the Vertex advantage tax refund response:

{ "refund\_reason": null, "amount": 40.0, "refund\_note\_number\_expanded": "CN-US2021-60177-1", "refunded\_amount": 40.0, "refund\_timestamp": "2024-03-27T22:21:06Z", "tax\_amount": 4.1, "refunded\_tax\_amount": 4.1, "refund\_note\_number": 1, "refunded\_total\_amount": 44.1, "refund\_key": "mzhkq3rM5qJ9\_Q", "total\_amount": 44.1, "refunds": \[ { "refund\_reason": null, "amount": 40.0, "informative": null, "refund\_note\_number\_expanded": "CN-US2021-60177-1", "refunded\_amount": 40.0, "refund\_timestamp": "2024-03-27T22:21:06Z", "tax\_amount": 4.1, "refund\_note\_url": "https://invoice.taxamo.com/api/v1/transactions/TBIQAAEbMGy8KD60ELSJmBJvRWX8/invoice/refunds/1/preview", "tax\_rate": 10.25, "line\_key": "RuR2s90BnS6CWSfe", "custom\_id": "8a90cb5d8e7fe1ac018e820095e53766", "refunded\_tax\_amount": 4.1, "refund\_note\_number": 1, "refunded\_total\_amount": 44.1, "refund\_key": "mzhkq3rM5qJ9\_Q", "total\_amount": 44.1, "refund\_unique\_id": null, "tax\_components": \[ { "revenue": 40.0, "tax\_amount": 2.6, "tax\_result": "TAXABLE", "city": "SEATTLE", "tax\_rate": 6.5, "county": "KING", "tax\_authority\_name": "WASHINGTON", "refunded\_tax\_amount": 2.6, "tax\_authority\_id": "40256", "tax\_name": "Retail Sales and Use Tax", "revenue\_base": 40.0, "percent\_taxable": 1, "jurisdiction\_code": "40256", "state\_code": "WA", "jurisdiction\_type": "STATE" }, { "revenue": 40.0, "tax\_amount": 0.0, "tax\_result": "NONTAXABLE", "city": "SEATTLE", "tax\_rate": 0, "county": "KING", "tax\_authority\_name": "KING", "refunded\_tax\_amount": 0.0, "tax\_authority\_id": "40453", "tax\_name": "Local Sales and Use Tax", "revenue\_base": 40.0, "calculated\_tax\_rate\_used": true, "percent\_taxable": 1, "jurisdiction\_code": "40453", "calculated\_tax\_rate": 0, "state\_code": "WA", "jurisdiction\_type": "COUNTY" }, { "revenue": 40.0, "tax\_amount": 0.88, "tax\_result": "TAXABLE", "city": "SEATTLE", "tax\_rate": 2.2, "county": "KING", "tax\_authority\_name": "SEATTLE", "refunded\_tax\_amount": 0.88, "tax\_authority\_id": "40463", "tax\_name": "Local Sales and Use Tax", "revenue\_base": 40.0, "percent\_taxable": 1, "jurisdiction\_code": "40463", "state\_code": "WA", "jurisdiction\_type": "CITY" }, { "revenue": 40.0, "tax\_amount": 0.56, "tax\_result": "TAXABLE", "city": "SEATTLE", "tax\_rate": 1.4, "county": "KING", "tax\_authority\_name": "REGIONAL TRANSIT AUTHORITY", "refunded\_tax\_amount": 0.56, "tax\_authority\_id": "102655", "tax\_name": "Local Sales and Use Tax", "revenue\_base": 40.0, "percent\_taxable": 1, "jurisdiction\_code": "102655", "state\_code": "WA", "jurisdiction\_type": "DISTRICT" }, { "revenue": 40.0, "tax\_amount": 0.06, "tax\_result": "TAXABLE", "city": "SEATTLE", "tax\_rate": 0.15, "county": "KING", "tax\_authority\_name": "SEATTLE TRANSPORTATION BENEFIT DISTRICT", "refunded\_tax\_amount": 0.06, "tax\_authority\_id": "106008", "tax\_name": "Local Sales and Use Tax", "revenue\_base": 40.0, "percent\_taxable": 1, "jurisdiction\_code": "106008", "state\_code": "WA", "jurisdiction\_type": "DISTRICT" } \] } \] }

## TaxApp response parsing

When processing the refund response within the TaxApp, the original structure is transformed to facilitate efficient parsing. Specifically, the tax components are flattened for easier integration with TaxApp functionalities. Below is an excerpt of the transformed response, focusing solely on the refund fields:

"refunds": \[ { "refund\_reason": null, "amount": 40.0, "informative": null, "refund\_note\_number\_expanded": "CN-US2021-60177-1", "refunded\_amount": 40.0, "refund\_timestamp": "2024-03-27T22:21:06Z", "refund\_note\_url": "https://invoice.taxamo.com/api/v1/transactions/TBIQAAEbMGy8KD60ELSJmBJvRWX8/invoice/refunds/1/preview", "line\_key": "RuR2s90BnS6CWSfe", "custom\_id": "8a90cb5d8e7fe1ac018e820095e53766", "refund\_note\_number": 1, "refunded\_total\_amount": 44.1, "refund\_key": "mzhkq3rM5qJ9\_Q", "total\_amount": 44.1, "refund\_unique\_id": null, "revenue": 40.0, "tax\_amount": 2.6, "tax\_result": "TAXABLE", "city": "SEATTLE", "tax\_rate": 6.5, "county": "KING", "tax\_authority\_name": "WASHINGTON", "refunded\_tax\_amount": 2.6, "tax\_authority\_id": "40256", "tax\_name": "Retail Sales and Use Tax", "revenue\_base": 40.0, "percent\_taxable": 1, "jurisdiction\_code": "40256", "state\_code": "WA", "jurisdiction\_type": "STATE" }, { "refund\_reason": null, "amount": 40.0, "informative": null, "refund\_note\_number\_expanded": "CN-US2021-60177-1", "refunded\_amount": 40.0, "refund\_timestamp": "2024-03-27T22:21:06Z", "refund\_note\_url": "https://invoice.taxamo.com/api/v1/transactions/TBIQAAEbMGy8KD60ELSJmBJvRWX8/invoice/refunds/1/preview", "line\_key": "RuR2s90BnS6CWSfe", "custom\_id": "8a90cb5d8e7fe1ac018e820095e53766", "refund\_note\_number": 1, "refunded\_total\_amount": 44.1, "refund\_key": "mzhkq3rM5qJ9\_Q", "total\_amount": 44.1, "refund\_unique\_id": null, "revenue": 40.0, "tax\_amount": 0.0, "tax\_result": "NONTAXABLE", "city": "SEATTLE", "tax\_rate": 0, "county": "KING", "tax\_authority\_name": "KING", "refunded\_tax\_amount": 0.0, "tax\_authority\_id": "40453", "tax\_name": "Local Sales and Use Tax", "revenue\_base": 40.0, "calculated\_tax\_rate\_used": true, "percent\_taxable": 1, "jurisdiction\_code": "40453", "calculated\_tax\_rate": 0, "state\_code": "WA", "jurisdiction\_type": "COUNTY" }, { "refund\_reason": null, "amount": 40.0, "informative": null, "refund\_note\_number\_expanded": "CN-US2021-60177-1", "refunded\_amount": 40.0, "refund\_timestamp": "2024-03-27T22:21:06Z", "refund\_note\_url": "https://invoice.taxamo.com/api/v1/transactions/TBIQAAEbMGy8KD60ELSJmBJvRWX8/invoice/refunds/1/preview", "line\_key": "RuR2s90BnS6CWSfe", "custom\_id": "8a90cb5d8e7fe1ac018e820095e53766", "refund\_note\_number": 1, "refunded\_total\_amount": 44.1, "refund\_key": "mzhkq3rM5qJ9\_Q", "total\_amount": 44.1, "refund\_unique\_id": null, "revenue": 40.0, "tax\_amount": 0.88, "tax\_result": "TAXABLE", "city": "SEATTLE", "tax\_rate": 2.2, "county": "KING", "tax\_authority\_name": "SEATTLE", "refunded\_tax\_amount": 0.88, "tax\_authority\_id": "40463", "tax\_name": "Local Sales and Use Tax", "revenue\_base": 40.0, "percent\_taxable": 1, "jurisdiction\_code": "40463", "state\_code": "WA", "jurisdiction\_type": "CITY" }, { "refund\_reason": null, "amount": 40.0, "informative": null, "refund\_note\_number\_expanded": "CN-US2021-60177-1", "refunded\_amount": 40.0, "refund\_timestamp": "2024-03-27T22:21:06Z", "refund\_note\_url": "https://invoice.taxamo.com/api/v1/transactions/TBIQAAEbMGy8KD60ELSJmBJvRWX8/invoice/refunds/1/preview", "line\_key": "RuR2s90BnS6CWSfe", "custom\_id": "8a90cb5d8e7fe1ac018e820095e53766", "refund\_note\_number": 1, "refunded\_total\_amount": 44.1, "refund\_key": "mzhkq3rM5qJ9\_Q", "total\_amount": 44.1, "refund\_unique\_id": null, "revenue": 40.0, "tax\_amount": 0.56, "tax\_result": "TAXABLE", "city": "SEATTLE", "tax\_rate": 1.4, "county": "KING", "tax\_authority\_name": "REGIONAL TRANSIT AUTHORITY", "refunded\_tax\_amount": 0.56, "tax\_authority\_id": "102655", "tax\_name": "Local Sales and Use Tax", "revenue\_base": 40.0, "percent\_taxable": 1, "jurisdiction\_code": "102655", "state\_code": "WA", "jurisdiction\_type": "DISTRICT" }, { "refund\_reason": null, "amount": 40.0, "informative": null, "refund\_note\_number\_expanded": "CN-US2021-60177-1", "refunded\_amount": 40.0, "refund\_timestamp": "2024-03-27T22:21:06Z", "refund\_note\_url": "https://invoice.taxamo.com/api/v1/transactions/TBIQAAEbMGy8KD60ELSJmBJvRWX8/invoice/refunds/1/preview", "line\_key": "RuR2s90BnS6CWSfe", "custom\_id": "8a90cb5d8e7fe1ac018e820095e53766", "refund\_note\_number": 1, "refunded\_total\_amount": 44.1, "refund\_key": "mzhkq3rM5qJ9\_Q", "total\_amount": 44.1, "refund\_unique\_id": null, "revenue": 40.0, "tax\_amount": 2.6, "tax\_result": "TAXABLE", "city": "SEATTLE", "tax\_rate": 6.5, "county": "KING", "tax\_authority\_name": "WASHINGTON", "refunded\_tax\_amount": 2.6, "tax\_authority\_id": "40256", "tax\_name": "Retail Sales and Use Tax", "revenue\_base": 40.0, "percent\_taxable": 1, "jurisdiction\_code": "40256", "state\_code": "WA", "jurisdiction\_type": "STATE" } \]

Note:

All fields mentioned above are accessible for field mapping purposes within the TaxApp. This ensures comprehensive integration and mapping of refund data.

## Behavioral changes in billing response

As part of the billing response transformation, the tax component structure has been modified to align with the flattened format observed in the refund response. This restructuring ensures consistency and ease of data handling within the TaxApp.

## Before Transformation

{ "taxationItems": \[ { "invoiceItemId": "8ad0828a7ea9de22017eb6c2114b66b3", "taxAmount": 3.96, "taxAmountUnRounded": 3.96, "exemptAmount": 0.0, "name": "Texas Tax", "jurisdiction": "US", "locationCode": "US", "taxCode": "AvalaraTelcoCode", "taxCodeDescription": "transactionKey=TG0QAAEbMREAKD6Xlt5JmFNNv6ag ; lineKey=zeItNXgS\_TLCmQCa", "taxDate": "2022-02-01", "taxMode": "0", "taxRate": 0.066033016508, "taxRateType": "Percentage", "country": "US" } \], "transactionId": "TG0QAAEbMREAKD6Xlt5JmFNNv6ag" }

## After Transformation

{ "taxationItems": \[ { "invoiceItemId": "8ad0828a7ea9de22017eb6c2114b66b3", "taxAmount": 3.0, "taxAmountUnRounded": 3.0, "exemptAmount": 0.0, "name": "Sales and Use Tax", "jurisdiction": "US", "locationCode": "US", "taxCode": "AvalaraTelcoCode", "taxCodeDescription": "transactionKey=TXtIAAEbMmYgKD6qjdvxmFNOpv\_c ; lineKey=ynmtZ3s\_oLV2hKJe", "taxDate": "2022-02-01", "taxMode": "0", "taxRate": 0.0625, "taxRateType": "Percentage", "country": "US" }, { "invoiceItemId": "8ad0828a7ea9de22017eb6c2114b66b3", "taxAmount": 0.48, "taxAmountUnRounded": 0.48, "exemptAmount": 0.0, "name": "Local Sales and Use Tax", "jurisdiction": "US", "locationCode": "US", "taxCode": "AvalaraTelcoCode", "taxCodeDescription": "transactionKey=TXtIAAEbMmYgKD6qjdvxmFNOpv\_c ; lineKey=ynmtZ3s\_oLV2hKJe", "taxDate": "2022-02-01", "taxMode": "0", "taxRate": 0.01, "taxRateType": "Percentage", "country": "US" }, { "invoiceItemId": "8ad0828a7ea9de22017eb6c2114b66b3", "taxAmount": 0.48, "taxAmountUnRounded": 0.48, "exemptAmount": 0.0, "name": "Local Sales and Use Tax", "jurisdiction": "US", "locationCode": "US", "taxCode": "AvalaraTelcoCode", "taxCodeDescription": "transactionKey=TXtIAAEbMmYgKD6qjdvxmFNOpv\_c ; lineKey=ynmtZ3s\_oLV2hKJe", "taxDate": "2022-02-01", "taxMode": "0", "taxRate": 0.01, "taxRateType": "Percentage", "country": "US" } \], "transactionId": "TXtIAAEbMmYgKD6qjdvxmFNOpv\_c" }

## Reference Vertex advantage tax response

The transformation is based on the Vertex advantage tax response structure, which includes detailed tax component information. Below is a summarized representation of the Vertex advantage tax response for the corresponding billing transaction:

This alignment facilitates streamlined processing and integration of billing data within the TaxApp, enhancing its functionality and performance.

{ "transaction": { "amount": 59.97, "invoice\_address": { "city": "Austin", "street\_name": "4711 YORK HILL DR", "address\_detail": "4711 YORK HILL DR", "country": "US", "postal\_code": "78723", "region": "Texas", "lookup\_result": { "found": false }, "tax\_area\_id": "444530150" }, "buyer\_credit\_card\_prefix": "", "custom\_fields": \[ { "key": "request\_datetime", "value": "2024-04-09-11:05" }, { "key": "origin", "value": "Zuora" }, { "key": "tax\_exempt\_status", "value": "" }, { "key": "tax\_exempt\_certificate\_id", "value": "" }, { "key": "preview\_mode", "value": "false" }, { "key": "event\_type", "value": "taxGenerate" } \], "tax\_country\_codes": "US", "key": "TXtIAAEbMmYgKD6qjdvxmFNOpv\_c", "tax\_amount": 3.96, "buyer\_tax\_number": "", "tax\_deducted": false, "tax\_region": "US", "billing\_country\_code": "US", "confirm\_timestamp": "2024-04-09T05:35:37Z", "merchant\_id": 18124, "evidence": { "by\_ip": { "evidence\_value": "", "evidence\_type": "by-ip" }, "by\_cc": { "evidence\_value": "", "evidence\_type": "by-cc" }, "by\_tax\_number": { "evidence\_value": "", "evidence\_type": "by-tax-number" }, "by\_billing": { "evidence\_value": "US", "used": true, "resolved\_country\_code": "US", "evidence\_type": "by-billing" } }, "invoice\_place": "Default place for test mode", "create\_timestamp": "2024-04-09T05:35:37Z", "tax\_country\_code": "US", "countries": { "by\_billing": { "code\_long": "USA", "name": "United States", "cca2": "US", "tax\_region": "US", "codenum": "840", "currency": \[ "USD", "USN", "USS" \], "code": "US", "cca3": "USA", "callingCode": \[ "1" \], "tax\_supported": true, "ccn3": "840" }, "detected": { "code\_long": "USA", "name": "United States", "cca2": "US", "tax\_region": "US", "codenum": "840", "currency": \[ "USD", "USN", "USS" \], "code": "US", "cca3": "USA", "callingCode": \[ "1" \], "tax\_supported": true, "ccn3": "840" } }, "transaction\_lines": \[ { "description": "", "amount": 59.97, "unit\_price": 59.97, "custom\_fields": \[ { "key": "invoiceItemId", "value": "8ad0828a7ea9de22017eb6c2114b66b3" }, { "key": "taxCode", "value": "AvalaraTelcoCode" }, { "key": "taxMode", "value": "0" }, { "key": "dbId", "value": "210" }, { "key": "chargeId", "value": "2c92c0fb7acdac7e017aced35334642e" }, { "key": "documentId", "value": "8ad0828a7ea9de22017eb6c210e966ae" }, { "key": "documentNumber", "value": "SB13INV00006001" }, { "key": "discountAmount", "value": "0" } \], "tax\_amount": 3.96, "tax\_deducted": false, "tax\_region": "US", "cached\_rate": false, "tax\_rate": 6.6033016508, "additional\_currencies": { "tax": { "amount": 59.97, "tax\_amount": 3.96, "total\_amount": 63.93 } }, "tax\_country\_code": "US", "line\_key": "ynmtZ3s\_oLV2hKJe", "custom\_id": "8ad0828a7ea9de22017eb6c2114b66b3", "tax\_name": "Texas Tax", "tax\_rate\_checks": \[ "CA-BC-PST-enabled", "CA-SK-PST-enabled", "CA-QC-QST-enabled" \], "product\_tax\_code": "310104", "line\_num": 1, "quantity": 1, "total\_amount": 63.93, "tax\_components": \[ { "revenue": 59.97, "tax\_amount": 3.0, "tax\_result": "TAXABLE", "city": "AUSTIN", "tax\_rate": 6.25, "county": "TRAVIS", "tax\_authority\_name": "TEXAS", "tax\_authority\_id": "35763", "tax\_name": "Sales and Use Tax", "revenue\_base": 47.98, "calculated\_tax\_rate\_used": true, "percent\_taxable": 0.8, "jurisdiction\_code": "35763", "calculated\_tax\_rate": 5.0025012506, "state\_code": "TX", "jurisdiction\_type": "STATE" }, { "revenue": 59.97, "tax\_amount": 0.48, "tax\_result": "TAXABLE", "city": "AUSTIN", "tax\_rate": 1, "county": "TRAVIS", "tax\_authority\_name": "AUSTIN", "tax\_authority\_id": "77848", "tax\_name": "Local Sales and Use Tax", "revenue\_base": 47.98, "calculated\_tax\_rate\_used": true, "percent\_taxable": 0.8, "jurisdiction\_code": "77848", "calculated\_tax\_rate": 0.8004002001, "state\_code": "TX", "jurisdiction\_type": "CITY" }, { "revenue": 59.97, "tax\_amount": 0.48, "tax\_result": "TAXABLE", "city": "AUSTIN", "tax\_rate": 1, "county": "TRAVIS", "tax\_authority\_name": "AUSTIN METROPOLITAN TRANSIT AUTHORITY", "tax\_authority\_id": "78110", "tax\_name": "Local Sales and Use Tax", "revenue\_base": 47.98, "calculated\_tax\_rate\_used": true, "percent\_taxable": 0.8, "jurisdiction\_code": "78110", "calculated\_tax\_rate": 0.8004002001, "state\_code": "TX", "jurisdiction\_type": "TRANSIT\_DISTRICT" } \], "tax\_entity\_name": "US", "tax\_supported": true } \], "buyer\_ip": "", "custom\_id": "SB13INV00006001", "manual": false, "country\_name": "United States", "product\_classes": "D", "fully\_informative": false, "tax\_engine": "oseries", "status": "C", "kind": "us-b2c", "invoice\_image\_url": "https://invoice.taxamo.com/api/v1/transactions/TXtIAAEbMmYgKD6qjdvxmFNOpv\_c/invoice", "update\_timestamp": 1712640937160, "shipment\_country\_data": {}, "buyer\_name": "2c92c0f877448111017745d23b361284", "deducted\_tax\_amount": 0, "order\_date": "2022-02-01T00:00:00Z", "invoice\_capable": true, "total\_amount": 63.93, "tax\_components": \[ { "tax\_amount": 3.0, "city": "AUSTIN", "tax\_rate": 6.25, "county": "TRAVIS", "tax\_authority\_name": "TEXAS", "tax\_authority\_id": "35763", "tax\_name": "Sales and Use Tax", "jurisdiction\_code": "35763", "state\_code": "TX" }, { "tax\_amount": 0.48, "city": "AUSTIN", "tax\_rate": 1, "county": "TRAVIS", "tax\_authority\_name": "AUSTIN", "tax\_authority\_id": "77848", "tax\_name": "Local Sales and Use Tax", "jurisdiction\_code": "77848", "state\_code": "TX" }, { "tax\_amount": 0.48, "city": "AUSTIN", "tax\_rate": 1, "county": "TRAVIS", "tax\_authority\_name": "AUSTIN METROPOLITAN TRANSIT AUTHORITY", "tax\_authority\_id": "78110", "tax\_name": "Local Sales and Use Tax", "jurisdiction\_code": "78110", "state\_code": "TX" } \], "tax\_timezone": "GMT", "test": true, "tax\_entity\_id": -40001, "tax\_entity\_name": "Texas", "tax\_supported": true, "customer\_id": "ACT000000011", "tax\_location\_id": -400001, "currency\_code": "USD" }, "tax\_required\_fields": \[ { "field\_name": "invoice\_address.postal\_code" } \], "storage\_required\_fields": \[\], "is\_delegated": false }
