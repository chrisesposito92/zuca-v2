---
title: "Sample codes in Python"
url: "https://docs.zuora.com/en/zuora-revenue/advanced-revenue-operations/integration-service-bi-views-v2/sample-codes-in-python"
product: "zuora-revenue"
scraped_at: "2025-12-24T04:39:29.900Z"
---

# Sample codes in Python

Sample Python codes to download BI view

The following are the sample codes in Python to download the BI view.

def download(view\_name, field\_list, page\_number, page\_size, output\_type, client\_id, all\_pages, from\_page, to\_page, from\_date, to\_date, retry\_interval, retry\_attempt, use\_token, output, max\_pages, directory): """Download bi view""" if page\_number is not None: from\_page = page\_number to\_page = page\_number o\_start = time.time() request\_id = use\_token from prettytable import PrettyTable x = PrettyTable() x.field\_names = \["Page Number", "Duration", "Attempt", "Response Code"\] end\_point\_host = "https://my-tenant.revprooncloud.com/api" for pg in range(from\_page, to\_page + 1): from os import system, name p\_start = time.time() import requests token, \_ = get\_token() if request\_id is not None: headers = {'Token': token, 'continuation-token': request\_id} else: headers = {'Token': token} params = \[\] params.append(make\_query\_param("clientId", client\_id)) params.append(make\_query\_param("fromDate", from\_date)) params.append(make\_query\_param("toDate", to\_date)) params.append(make\_query\_param("pagenum", pg)) params.append(make\_query\_param("pageSize", page\_size)) params.append(make\_query\_param("outputType", output\_type)) if max\_pages is not None: params.append(make\_query\_param("max\_pages", max\_pages)) query\_string = "" for a in params: query\_string = query\_string + a + "&" url = end\_point\_host + \\ '/integration/v2/biviews/{0}?{1}'.format(view\_name, query\_string) import jsonpickle field = \[\] if field\_list is not None: field = field\_list.split(",") post\_response = requests.get(url, data=jsonpickle.encode(field), headers=headers) attempt = 1 if post\_response.status\_code != 200: if "Page still not yet cached" in post\_response.text: for \_ in range(1, retry\_attempt): attempt = attempt + 1 time.sleep(retry\_interval) post\_response = requests.get( end\_point\_host + '/integration/v2/biviews/{0}?{1}'.format(view\_name, query\_string), headers=headers) if post\_response.status\_code == 200: break if post\_response.status\_code != 400: print("Stopping.") break if request\_id is None: if 'continuation\_token' in post\_response.headers: request\_id = post\_response.headers.get('continuation\_token') print("Continuation Token: {0}".format(request\_id)) else: print('No Token found!') p\_end = time.time() elapsed = round(p\_end - p\_start) if output == "file" and directory is not None: write\_to\_file(directory, pg, post\_response.text) x.add\_row(\[pg, elapsed, attempt, post\_response.status\_code\]) print(x) print("Continuation Token: {0}".format(request\_id)) if post\_response.status\_code != 200: print("Stopping. Code: {0}".format(post\_response.status\_code)) break o\_end = time.time() elapsed = round(o\_end - o\_start) x.add\_row(\["Total", elapsed, '', ''\]) print(x) print("Continuation Token: {0}".format(request\_id))
